<h3>Sorting Text</h3>

<h4>Problem</h4>

<p>You want to sort a selection of text or an entire whole file.</p>

<p>For example, if you've made a list of your books with one title per line,
you'd like to organise it alphabetically. </p>

<h4>Solution</h4>

<p>Vim version 7 introduced a <code>:sort</code> command. So if you're using v7
or later you can sort an entire file using <code>:sort</code>. <span
class="todo">How can you find out your Vim version</span>.</p>

<p>If you're using an older version of Vim you'll need an external sort utility.
Linux users should already have <code>sort</code> installed.  <span
class="todo">Mention situ. on Win</span> You can sort the entire file by
executing <code>:!%sort</code>, which filters the file through the
<code>sort</code> binary.</p>

<p>To sort part of a file: </p>

<ol>
<li>Select the area you're interested in.  <span class="todo">link
Visually Selecting Text</span> </li>
<li>Hit <kbd>:</kbd> and Vim will display <samp>:'&lt;,'&gt;'</samp> which refers
to your selection.  </li>
<li>Type <code>!sort</code> (i.e. execute <code>:'&lt;,'>!sort</code>).</li>
</ol>

<h4>Discussion</h4>

<p>Both methods above sort <em>lines</em> alphabetically. If you require a different
type of sorting you need to pass options to the command.</p>

<p><span class="todo">explain how to sort by words in a line</span></p>

<p>If you're using Vim 7+:</p>

<dl>
  <dt><code>:sort!</code></dt>
  <dd>Reverses the sort order, i.e. sorts in descending order: z-a, 100-0.</dd>
  <dt><code>:sort <var>flags</var></code></dt>
  <dd>The sort command can be followed by a series of flags which can be combined in any order:
    <dl>
      <dt><code>n</code></dt>
      <dd>Sorts by the first decimal number in the line.</dd>
      <dt><code>i</code></dt>
      <dd>Ignores case while sorting.</dd>
      <dt><code>u</code></dt>
      <dd>Deletes duplicate lines (keeps <em>u</em>nique lines).</dd>
    </dl>
  </dd>
  <dt><code>:sort /<var>pattern</var>/</code></dt>
  <dd>Ignore text matching <var>pattern</var> when sorting.</dd>
</dl>

<p>For example, the following table describes how a the set of data in the
<em>Original</em> column is transformed for the given invocations of <code>:sort</code>.</p>

<table>
  <tr>
    <th colspan="2">Original</th>
    <th colspan="2"><code>:sort!</code></th>
    <th colspan="2"><code>:sort in</code></th>
    <th colspan="2"><code>:sort i /^./}</code></th>
  </tr>
  <tr>
    <td>ant</td>
    <td>1</td>
    <td>zebra</td>
    <td>12</td>
    <td>ant</td>
    <td>1</td>
    <td>zebra</td>
    <td>12</td>
  </tr>
  <tr>
    <td>Dog</td>
    <td>7</td>
    <td>frog</td>
    <td>11</td>
    <td>fish</td>
    <td>6</td>
    <td>fish</td>
    <td>6</td>
  </tr>
  <tr>
    <td>cow</td>
    <td>8</td>
    <td>fish</td>
    <td>6</td>
    <td>Dog</td>
    <td>7</td>
    <td>ant</td>
    <td>1</td>
  </tr>
  <tr>
    <td>fish</td>
    <td>6</td>
    <td>cow</td>
    <td>8</td>
    <td>cow</td>
    <td>8</td>
    <td>Dog</td>
    <td>7</td>
  </tr>
  <tr>
    <td>frog</td>
    <td>11</td>
    <td>ant</td>
    <td>1</td>
    <td>frog</td>
    <td>11</td>
    <td>cow</td>
    <td>8</td>
  </tr>
  <tr>
    <td>zebra</td>
    <td>12</td>
    <td>Dog</td>
    <td>7</td>
    <td>zebra</td>
    <td>12</td>
    <td>frog</td>
    <td>11</td>
  </tr>
</table>

<p>If you're using the external <code>sort</code> utility the options are
similar. See <code>man sort</code> for the details. Common invocations are:</p>

<p><span class="todo">Merge following table with Vim 7 one?</span></p>

<dl>
  <dt><code>%!sort -u</code></dt>
  <dd>Delete duplicate lines.</dd>
  <dt><code>%!sort -f</code></dt>
  <dd>Ignore case when sorting.</dd>
  <dt><code>%!sort -r</code></dt>
  <dd>Reverse sort order.</dd>
</dl>
